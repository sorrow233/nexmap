@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body,
#root {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    overflow-y: hidden;
}

@layer utilities {
    .shadow-premium {
        box-shadow: 0 8px 30px rgb(0, 0, 0, 0.04), 0 1px 4px rgba(0, 0, 0, 0.03);
    }

    .shadow-premium-hover {
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
    }

    .custom-scrollbar::-webkit-scrollbar {
        width: 4px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: #cbd5e1;
        border-radius: 4px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background-color: #94a3b8;
    }

    .glass-panel {
        /* Default (Light) */
        background: rgba(255, 255, 255, 0.85);
        @apply backdrop-blur-xl border border-white/40 shadow-xl;
    }

    .dark .glass-panel {
        /* Dark Override */
        background: rgba(15, 23, 42, 0.6);
        @apply border-white/10 shadow-2xl;
    }

    /* Typography Defaults (Light Mode) */
    .prose {
        @apply text-slate-700;
        font-family: "LXGW WenKai Screen", "LXGW WenKai Mono TC", sans-serif;
        font-size: 15px;
        line-height: 1.85;
        letter-spacing: 0.015em;
    }

    .prose h1,
    .prose h2,
    .prose h3,
    .prose h4 {
        @apply font-bold text-slate-800 mt-12 mb-6;
        line-height: 1.4;
    }

    .prose p {
        @apply mb-8;
    }

    .prose strong {
        @apply font-bold text-slate-900 mx-0.5;
    }

    .prose ul,
    .prose ol {
        @apply marker:text-slate-400 my-6 pl-5;
    }

    .prose li {
        @apply mb-2;
    }

    .prose blockquote {
        @apply border-l-4 border-slate-200 pl-6 italic text-slate-500 my-10;
    }

    .prose code {
        @apply bg-slate-100/50 text-indigo-600 px-1.5 py-0.5 rounded border border-slate-200 text-[0.85em] font-mono;
    }

    .prose pre {
        @apply bg-slate-50/50 text-slate-700 border border-slate-200 rounded-2xl p-6 my-10 overflow-x-auto;
    }

    .prose pre code {
        @apply bg-transparent text-slate-700 p-0 border-none;
    }

    /* Table Support */
    .prose table {
        @apply w-full border-collapse my-10 text-[0.95em];
    }

    .prose thead {
        @apply bg-slate-50 border-b border-slate-200;
    }

    .prose th {
        @apply px-4 py-3 text-left font-bold text-slate-800 border border-slate-200;
    }

    .prose td {
        @apply px-4 py-3 border border-slate-200 text-slate-600;
    }

    .prose tr:nth-child(even) {
        @apply bg-slate-50/30;
    }

    /* Typography Overrides (Dark Mode) */
    .dark .prose {
        @apply text-slate-300;
    }

    .dark .prose h1,
    .dark .prose h2,
    .dark .prose h3,
    .dark .prose h4 {
        @apply text-slate-100;
    }

    .dark .prose strong {
        @apply text-slate-50;
    }

    .dark .prose ul,
    .dark .prose ol {
        @apply marker:text-slate-500;
    }

    .dark .prose blockquote {
        @apply border-slate-800 text-slate-400;
    }

    .dark .prose code {
        @apply bg-white/5 text-indigo-300 border-white/10;
    }

    .dark .prose pre {
        @apply bg-slate-950/40 text-slate-200 border-white/5;
    }

    .dark .prose pre code {
        @apply text-slate-200;
    }

    .dark .prose thead {
        @apply bg-white/5 border-white/10;
    }

    .dark .prose th {
        @apply text-slate-100 border-white/10;
    }

    .dark .prose td {
        @apply text-slate-400 border-white/10;
    }

    .dark .prose tr:nth-child(even) {
        @apply bg-white/[0.02];
    }

    /* Reader Container */
    .reader-width {
        max-width: 48rem;
        /* ~768px - standard for reading flow */
        margin-left: auto;
        margin-right: auto;
    }

    /* User Bubbles - Simplified for Prompt-style */
    .user-prompt {
        @apply bg-slate-100/50 dark:bg-white/5 border border-slate-200/50 dark:border-white/5 p-6 rounded-3xl mb-12 italic text-slate-600 dark:text-slate-400;
    }
}